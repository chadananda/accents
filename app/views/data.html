<script>
	function logout()
	{
		localStorage.removeItem('session-user');
		window.location.href="/";
	}
	//var session=localStorage.getItem('session-user');
	if(localStorage.getItem("session-user") === null)
	{
		window.location.href="/";
	}
	function changeterm()
	{
		//console.log("functioncalled");
		//$('#checkedStrict').trigger('click');
	}
</script>
  <!-- <a href="javascript:void();"> <img src="images/forkme.png" alt="forkme" class="img-responsive forkme" /></a>-->
        <div class="container  clearfix"  id="main-container" ng-controller="getdataCtrl">
            <div class="col-lg-12 clearfix  mb10 p0 pt10 pb10">
                <div class="col-sm-6 logo p0 valignmiddle mt10">
                      <div class="media">
                          <div class="media-left pull-left mainlogo">
                            <a href="index.html">
                                <img src="images/ocean-logo.svg" alt="logo" class="img-responsive dispinblk valignmiddle"/>
                            </a>
                          </div>
                          <div class="media-body">
                              <h3 class="dispinblk m0 valignmiddle">Interminable<br /> Accents</h3>
                              <p  class=" m0 valignmiddle">A dictionary builder for Bahá’í terms</p>
                          </div>
                       </div>
                </div>
                 <div class="col-sm-6 logo p0 valignmiddle text-right topbutton mt10" style="display:none;">
                    <button type="button" class="btn btn-info txtuppcase "><span class="glyphicon glyphicon-plus mr5"></span>add words</button>
                    <button type="button" class="btn btn-default txtuppcase "><span class="glyphicon glyphicon-ok mr5"></span>Auto Correct</button>
                    <button type="button" class="btn btn-danger txtuppcase " title="Logout" onclick="logout()"><span class="glyphicon glyphicon-off"></span></button>
                 </div>
                <div class="col-md-5 col-md-offset-1 col-sm-5 custom-width-media logo p0 valignmiddle text-right topbutton mt10" >
					<div class="header">
					  <div class="navbar navbar-default" role="navigation">
						<!--div class="container"-->
						  <div class="navbar-header">

							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
							  <span class="sr-only">Toggle navigation</span>
							  <span class="icon-bar"></span>
							  <span class="icon-bar"></span>
							  <span class="icon-bar"></span>
							</button>

							<!--a class="navbar-brand" href="#/">accents</a-->
						  </div>

						  <div class="collapse navbar-collapse" id="js-navbar-collapse" >

							<ul class="nav navbar-nav">
							  <li><a ng-href="#/allterms">All Terms</a></li>
							  <li class="active"><a href="#/getdata">Add</a></li>
							 <!-- <li><a ng-href="#/about">Verify</a></li>-->
							  <li><a class="btn-danger txtuppcase logout" title="Logout" onclick="logout()"><span class="glyphicon glyphicon-off"></span></a></li>
							   <li><a ng-href="#/settings"><span class="glyphicon glyphicon-cog"></span></a></li>
							</ul>
						  </div>
						</div>
					  <!--/div-->
					</div>
                </div>
            </div>

            <div class="col-lg-12 clearfix mb10 p0 pt10 pb30 addtext mt30">
				<div class="col-lg-12 mobile-margin">
					<div class="row">
						<div class="col-md-12 col-xs-12">
							 <h2 class="pl15 pr15" style="font-weight:bold;"><div  id="toptext" style="display:inline;">Add: </div>
							 <div id="heading-term" style="display:inline;margin-left: 10px;"></div></h2>
						</div>
					</div>
				</div>

                <div class="col-lg-12 clearfix">
                <form class="form-inline clearfix" id="addform" name="addform" >
				 <div class="col-md-12">
                  <div class="form-group col-sm-6 ">

                    <input type="text" class="form-control chkval" ng-enter="adddata(docs)" name="term" id="term" style="font-size:20px !important;" ng-model-options="{ debounce: 1000 }" ng-minlength="3" ng-model="search.doc.term" />
                    <input type="hidden" id="keyid"  />
                    <input type="hidden" id="keyrev"  />
                     <span class="inputexm">Term</span>

                  </div>
                  <div class="form-group posrleative col-sm-6 ">
					  <input type="text" name="reference"  class="form-control chkval" id="reference" ng-model="editdata.ref" value=""  ng-enter="adddata(docs)"/>
                     <span class="inputexm">Reference e.g. Iqan pg 72</span>


                  </div>
                  </div>
                   <div class="col-md-12">
                  <div class="form-group posrleative col-sm-6 ">
                     <input type="text" name="original" class="form-control chkval openautochoose"  id="original" ng-enter="adddata(docs)" ng-model="editdata.original" style="font-size:20px !important;" ng-change="checkVerifiedCheckBox()"/>

                       <div class=" col-lg-12">
                                <div class=" autochoose">
                                      <div class="checkbox">
                                        <label><input type="checkbox"/> Word One</label>
                                      </div>
                                      <div class="checkbox">
                                        <label><input type="checkbox"/> Word Two</label>
                                      </div>
                                      <div class="checkbox">
                                        <label><input type="checkbox"/> Word Three</label>
                                      </div>
                                      <div class="checkbox">
                                        <label><input type="checkbox"/> Word Four</label>
                                      </div>
                                      <div class="checkbox">
                                        <label><input type="checkbox"/> Word Five</label>
                                      </div>
                                </div>

                   </div>
                     <span class="inputexm">Original</span>

                  </div>
				  <div class="form-group col-sm-6 ">
                    <input type="text" class="form-control chkval" name="definition" ng-model="editdata.definition" ng-enter="adddata(docs)" id="definition" />
                    <span class="inputexm">Notes</span>
                  </div>
				</div>
			   </form>
                </div>

                <div class="col-lg-12 clearfix  mt10   ">
                  <div class="col-sm-5 col-md-5 clearfix ">
                         <div class="checkbox mt20 dispinblk">
                            <label style="padding-left:13px;"><input type="checkbox" ng-model="verified" id="verifiedCheckbox" ng-checked="editdata.verify==1  || editdata.verified==true"/> Verified</label>
                          </div>
                          <!--
                          <div class="checkbox mt20 dispinblk">
                            <label style="padding-left:10px;"><input type="checkbox" ng-model="ambiguous"  />Ambiguous</label>
                          </div>
                          --->
                          <div class="dispinblk playmic">
                             <a href="javascript:void();" class="disabled">  <img src="images/play.png" alt="mic" /></a>
                          </div>
                          <div class="dispinblk playmic">
                              <a href="javascript:void();">  <img src="images/mic.png" alt="mic" /></a>
                          </div>
                      </div>
                  <div class="col-sm-7 col-md-7 clearfix"><div class="col-sm-12 clearfix">
                         <button type="submit" class="btn btn-warning pull-right mt20 " id="addword" ng-click="adddata(docs);"><span class="glyphicon glyphicon-plus mr5"></span>Add Term</button>
                         <button type="submit" class="btn btn-warning pull-right mt20 " id="updateword" ng-click="updatedata(docs);"  style="display:none;">
							 <span class="glyphicon glyphicon-edit mr5"></span>Update</button>
                         <button type="submit" class="btn btn-danger pull-right mt20 mr20" id="Button2" style="display:none;" ng-click="deletedata(docs);" >
							 <span class="glyphicon glyphicon-trash mr5"></span>Delete</button>
					      <button type="submit" class="btn btn-danger pull-right mt20 mr20" id="Button3" style="display:none;" ng-click="cancelUpdate();" >
							 <span class="glyphicon glyphicon-remove mr5"></span>Cancel</button>
                  </div>  </div>
                </div>
				<!--=========================SIMPLE EDIT AND SEARCH=============================-->
				<div class="col-lg-12 clearfix mt30" >
					<div class="col-lg-12 clearfix  pt20 pb20">
						<div class="col-lg-12 clearfix autosearch-container"  ng-if="search.doc.term">
							<h5 class="mb10 "><span class="mr5">{{(docs|wholeWordFilterMatch: customi2html(search.doc.term)).length}}</span>Whole Word Matches</h5>
							<div ng-repeat="docobj in docs |wholeWordFilterMatch: customi2html(search.doc.term)"  class="col-md-11 col-md-offset-1" >
								<span ng-bind-html="i2html(customi2html(docobj.doc.term))">{{docobj.doc.term}}</span>
								<span class="glyphicon glyphicon-ok-circle ml10" ng-if="docobj.doc.verified==true"  style="margin-left: 5px;"></span>
								<span class="glyphicon glyphicon-question-sign" ng-if="docobj.doc.ambiguous==1"  style="margin-left: 5px;"></span>
								<!--<span class="glyphicon glyphicon-edit ml10" ng-click="editdoc(docobj.doc._id,docobj.doc._rev);"></span>-->
								<button  ng-click="editdoc(docobj.doc._id,docobj.doc._rev);" class="btn btn-primary btn-xs editbtn mb10" type="button" style="margin-left: 10px;">
									<span class="glyphicon glyphicon-edit"></span>
								</button>
								<!--<span class="glyphicon glyphicon-remove ml10" ng-click="deletedoc(docobj.doc._id,docobj.doc._rev);" ></span>-->
								<button ng-click="deletedoc(docobj.doc._id,docobj.doc._rev,docs);" class="btn btn-danger btn-xs remove mb10" type="button" style="float:none;margin-left: 10px;">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
								&nbsp;
								<div class="otherData">
									<div class="notesClass" ng-show="docobj.doc.original!=''">{{docobj.doc.original}}&nbsp;</div>
									<div class="notesClass" ng-show="docobj.doc.ref!=''"> {{docobj.doc.ref}}&nbsp;</div>
									<div class="notesClass" ng-show="docobj.doc.definition!=''"> {{docobj.doc.definition}}&nbsp;</div>
								</div>
							</div>
						</div>
						<div class="col-lg-12 clearfix mt0 autosearch-container" ng-if="search.doc.term">
							<h5 class="mb10 "><span class="mr5 ">{{(docs|groupfiltercount:customi2html(search.doc.term))}}</span>Partial Matches</h5>
							<div ng-repeat="(key, value)  in docs |groupfilter:customi2html(search.doc.term)" class="searchGroup" ng-click="getAllRecords('{{key}}',docs)"  ng-show="value!=1" >
								<span   class="glyphicon glyphicon-play mr5 openPanel" id="sideIcon-{{key}}"></span>	<u>{{key}}</u> ({{value}})
								<div id="showDiv-{{key}}" class="col-md-11 col-md-offset-1" ng-show="viewkey==key && value!=1">
									<div ng-repeat="t in filterresult" >
										<span ng-bind-html="i2html(customi2html(t.term))">{{t.term}}</span>
										<span class="glyphicon glyphicon-ok-circle ml10" ng-if="t.verify==1  || t.verified==true"  style="margin-left: 5px;"></span>
										<span class="glyphicon glyphicon-question-sign" ng-if="t.ambiguous==1"  style="margin-left: 5px;"></span>
										<button  ng-click="editdoc(t._id,t._rev);" class="btn btn-primary btn-xs editbtn mb10" type="button" style="margin-left: 10px;">
											<span class="glyphicon glyphicon-edit"></span>
										</button>
										<button ng-click="deletedoc(t._id,t._rev,docs);" class="btn btn-danger btn-xs remove mb10" type="button" style="float:none;margin-left: 10px;">
											<span class="glyphicon glyphicon-remove"></span>
										</button>
											<!--<span class="glyphicon glyphicon-remove ml10" ng-click="deletedoc(t._id,t._rev);" ></span>-->
									</div>
								</div>
							</div>
							<div ng-repeat="doc  in docs |singlegroupFilter:customi2html(search.doc.term)" class="searchSingle"   >
								<span class="glyphicon glyphicon-record mr5 openPanel"></span>
								<span ng-bind-html="i2html(customi2html(doc.doc.term))">{{doc.doc.term}}</span>
								<span class="glyphicon glyphicon-ok-circle ml10" ng-if="doc.doc.verify==1 || doc.doc.verified==true"  style="margin-left: 5px;"></span>
								<span class="glyphicon glyphicon-question-sign" ng-if="doc.doc.ambiguous==1"  style="margin-left: 5px;"></span>
								<button  ng-click="editdoc(doc.doc._id,doc.doc._rev);" class="btn btn-primary btn-xs editbtn mb10" type="button"  style="margin-left: 10px;">
									<span class="glyphicon glyphicon-edit"></span>
								</button>
								<button ng-click="deletedoc(doc.doc._id,doc.doc._rev,docs);" class="btn btn-danger btn-xs remove mb10" type="button" style="float:none;margin-left: 10px;">
									<span class="glyphicon glyphicon-remove"></span>
								</button>
							</div>
						</div>
					</div>
				</div>



                 <div class="col-lg-12 clearfix">
                     <h5 class="blankalert"> Ref &amp; Term can't be blank</h5>
                 </div>
            </div>
       <div>{{message}}</div>


